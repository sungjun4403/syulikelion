"use client";
import {
  require_react
} from "./chunk-YSDLPTTY.js";
import {
  __toESM
} from "./chunk-ZS7NZCD4.js";

// node_modules/react-slot-counter/lib/index.esm.js
var import_react = __toESM(require_react());
var c = function() {
  return c = Object.assign || function(n2) {
    for (var e2, t2 = 1, r2 = arguments.length; t2 < r2; t2++)
      for (var i2 in e2 = arguments[t2])
        Object.prototype.hasOwnProperty.call(e2, i2) && (n2[i2] = e2[i2]);
    return n2;
  }, c.apply(this, arguments);
};
var s = function() {
  for (var n2 = [], e2 = 0; e2 < arguments.length; e2++)
    n2[e2] = arguments[e2];
  return n2.filter(Boolean).join(" ");
};
var d = function(n2, e2) {
  for (var t2 = [], r2 = n2; r2 < e2; r2 += 1)
    t2.push(r2);
  return t2;
};
var f = function(n2, e2) {
  for (var t2 = [], r2 = n2; r2 !== e2; )
    t2.push(r2), 10 === (r2 += 1) && (r2 = 0);
  return t2;
};
var m = function(n2, e2) {
  var t2 = Math.random() * (e2 - n2);
  return Math.floor(t2 + n2);
};
var v = function(n2) {
  for (var e2, t2 = function(n3, e3, t3) {
    if (t3 || 2 === arguments.length)
      for (var r3, i3 = 0, u2 = e3.length; i3 < u2; i3++)
        !r3 && i3 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i3)), r3[i3] = e3[i3]);
    return n3.concat(r3 || Array.prototype.slice.call(e3));
  }([], n2, true), r2 = t2.length - 1; r2 > 0; r2 -= 1) {
    var i2 = Math.floor(Math.random() * (r2 + 1));
    e2 = [t2[i2], t2[r2]], t2[r2] = e2[0], t2[i2] = e2[1];
  }
  return t2;
};
var h = function(n2) {
  return "number" == typeof n2 ? n2 : (Array.isArray(n2) ? n2.join("") : n2).replace(/[,.]/g, "");
};
var p = function(n2) {
  return "object" != typeof n2 && !Number.isNaN(h(n2));
};
var y = function(n2) {
  return "object" == typeof n2;
};
var g = "index-module_slot_wrap__ZT-DX";
var b = "index-module_slot__DpPgW";
var _ = "index-module_separator__7GhtE";
var N = "index-module_numbers__sqlqm";
var x = "index-module_num__j6XH3";
!function(n2, e2) {
  void 0 === e2 && (e2 = {});
  var t2 = e2.insertAt;
  if (n2 && "undefined" != typeof document) {
    var r2 = document.head || document.getElementsByTagName("head")[0], i2 = document.createElement("style");
    i2.type = "text/css", "top" === t2 && r2.firstChild ? r2.insertBefore(i2, r2.firstChild) : r2.appendChild(i2), i2.styleSheet ? i2.styleSheet.cssText = n2 : i2.appendChild(document.createTextNode(n2));
  }
}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");
var A = "undefined" != typeof window ? import_react.default.useLayoutEffect : import_react.default.useEffect;
var C = (0, import_react.memo)(function(e2) {
  var a2, o2, l2 = e2.isNew, d2 = e2.charClassName, f2 = e2.numbersRef, m2 = e2.active, h2 = e2.isChanged, p2 = e2.effectiveDuration, y2 = e2.delay, g2 = e2.value, _2 = e2.startValue, C2 = e2.disableStartValue, S2 = e2.dummyList, E2 = e2.hasSequentialDummyList, w = e2.hasInfiniteList, M = e2.valueClassName, j = e2.reverse, D = e2.sequentialAnimationMode, T = e2.useMonospaceWidth, q = e2.maxNumberWidth, k = (0, import_react.useState)(false), O = k[0], L = k[1], I = (0, import_react.useState)(g2), P = I[0], V = I[1], W = (0, import_react.useRef)(), B = (0, import_react.useRef)(g2), R = (0, import_react.useRef)(null), X = (0, import_react.useState)(0), Y = X[0], F = X[1], G = (0, import_react.useState)(E2 ? S2 : v(S2)), H = G[0], Z = G[1], J = (0, import_react.useState)(false), U = J[0], z = J[1], K = Y * (S2.length + 1);
  A(function() {
    z(true);
  }, []), A(function() {
    var n2, e3;
    F(null !== (e3 = null === (n2 = R.current) || void 0 === n2 ? void 0 : n2.getBoundingClientRect().height) && void 0 !== e3 ? e3 : 0);
  }, [U]), (0, import_react.useEffect)(function() {
    m2 ? requestAnimationFrame(function() {
      L(m2);
    }) : L(m2);
  }, [m2]), (0, import_react.useMemo)(function() {
    C2 && (W.current = B.current);
  }, [C2]), (0, import_react.useEffect)(function() {
    O && (W.current = B.current, B.current = g2, setTimeout(function() {
      return V(g2);
    }, D ? 0 : 1e3 * p2 * 1.3 / S2.length + 1e3 * y2));
  }, [O, g2, p2, y2, S2.length, D]), (0, import_react.useEffect)(function() {
    Z(E2 ? S2 : v(S2));
  }, [g2, S2, E2]);
  var Q = function() {
    return H.map(function(e3, t2) {
      return import_react.default.createElement("span", { key: t2, className: x, "aria-hidden": "true" }, e3);
    });
  }, $ = j ? P : null != _2 ? _2 : P;
  D && ($ = j ? P : null !== (a2 = null != _2 ? _2 : W.current) && void 0 !== a2 ? a2 : P, D && l2 && ($ = ""));
  var nn = j && null != _2 ? _2 : P;
  return D && (nn = j && null !== (o2 = null != _2 ? _2 : W.current) && void 0 !== o2 ? o2 : P), import_react.default.createElement("span", { className: s(b, d2), style: { display: "inline-block", width: U && T ? q : void 0, height: U ? Y : void 0 } }, import_react.default.createElement("span", { ref: f2, className: N, style: c({ transition: "none", transform: j ? "translateY(-".concat(K, "px)") : "translateY(0px)" }, O && h2 && { transform: j ? "translateY(0px)" : "translateY(-".concat(K, "px)"), transition: "transform ".concat(p2, "s ").concat(y2, "s ease-in-out") }) }, U ? import_react.default.createElement(import_react.default.Fragment, null, import_react.default.createElement("span", { className: x, "aria-hidden": "true", style: { height: Y } }, $), Q(), import_react.default.createElement("span", { className: s(x, M), ref: R }, nn), w ? Q() : null) : import_react.default.createElement("span", { className: x, "aria-hidden": "true" }, null != _2 ? _2 : P)));
});
var S = [",", ".", " "];
var E = (0, import_react.memo)((0, import_react.forwardRef)(function(e2, o2) {
  var c2, v2, b2, N2, x2, E2, w, M, j, D, T = e2.value, q = e2.startValue, k = e2.startValueOnce, O = void 0 !== k && k, L = e2.duration, I = void 0 === L ? 0.7 : L, P = e2.dummyCharacters, V = e2.dummyCharacterCount, W = void 0 === V ? 6 : V, B = e2.autoAnimationStart, R = void 0 === B || B, X = e2.containerClassName, Y = e2.charClassName, F = e2.separatorClassName, G = e2.animateUnchanged, H = void 0 !== G && G, Z = e2.hasInfiniteList, J = void 0 !== Z && Z, U = e2.valueClassName, z = e2.sequentialAnimationMode, K = void 0 !== z && z, Q = e2.useMonospaceWidth, $ = void 0 !== Q && Q, nn = e2.direction, en = e2.debounceDelay, tn = e2.animateOnVisible, rn = function(n2, e3) {
    var r2 = (0, import_react.useState)(n2), u2 = r2[0], a2 = r2[1];
    return (0, import_react.useEffect)(function() {
      if (0 === e3)
        return a2(n2);
      var t2 = setTimeout(function() {
        a2(n2);
      }, e3);
      return function() {
        clearTimeout(t2);
      };
    }, [n2, e3]), u2;
  }(T, null != en ? en : 0), un = (0, import_react.useMemo)(function() {
    return function(n2) {
      return Array.isArray(n2) && y(n2[0]);
    }(rn) ? "" : "object" == typeof rn ? JSON.stringify(rn) : rn.toString();
  }, [rn]), an = (0, import_react.useState)(false), on = an[0], ln = an[1], cn = (0, import_react.useRef)(), sn = (0, import_react.useRef)(null), dn = (0, import_react.useRef)(null), fn = (0, import_react.useRef)(q), mn = (0, import_react.useMemo)(function() {
    return "boolean" == typeof tn ? tn : "object" == typeof tn || void 0;
  }, [tn]), vn = (0, import_react.useMemo)(function() {
    return "object" == typeof tn ? tn.rootMargin : void 0;
  }, [tn]), hn = (0, import_react.useMemo)(function() {
    return "object" == typeof tn ? tn.triggerOnce : void 0;
  }, [tn]), pn = (0, import_react.useRef)(true), yn = !mn && R, gn = (0, import_react.useRef)(null == q || yn ? rn : q), bn = (0, import_react.useRef)(q), _n = (0, import_react.useRef)(0), Nn = (0, import_react.useRef)(0), xn = (0, import_react.useState)([]), An = xn[0], Cn = xn[1], Sn = (0, import_react.useRef)(), En = (0, import_react.useState)(0), wn = En[0], Mn = En[1], jn = (0, import_react.useState)(), Dn = jn[0], Tn = jn[1], qn = (0, import_react.useRef)(false), kn = null != q && (!O || _n.current < 1), On = null !== (v2 = null === (c2 = cn.current) || void 0 === c2 ? void 0 : c2.dummyCharacterCount) && void 0 !== v2 ? v2 : W, Ln = null !== (N2 = null === (b2 = cn.current) || void 0 === b2 ? void 0 : b2.duration) && void 0 !== N2 ? N2 : I;
  A(function() {
    var n2, e3 = dn.current;
    if (e3 && $) {
      var t2 = function() {
        var n3 = d(0, 10).map(function(n4) {
          var t4 = document.createElement("span");
          t4.className = null != U ? U : "", t4.style.position = "absolute", t4.style.top = "0", t4.style.left = "-9999px", t4.style.visibility = "hidden", t4.textContent = n4.toString(), e3.appendChild(t4);
          var r2 = t4.getBoundingClientRect().width;
          return e3.removeChild(t4), r2;
        }), t3 = Math.max.apply(Math, n3);
        Tn(t3);
      };
      t2(), null === (n2 = document.fonts) || void 0 === n2 || n2.ready.then(function() {
        t2();
      });
    }
  }, []), (0, import_react.useEffect)(function() {
    Cn(d(0, On - 1).map(function(n2) {
      if (!P)
        return m(0, 10);
      var e3 = n2 >= P.length ? m(0, P.length) : n2;
      return P[e3];
    }));
  }, [P, On]), gn.current !== rn && qn.current && Nn.current > 0 && (bn.current = gn.current, gn.current = rn);
  var In = Array.isArray(bn.current) ? bn.current : null !== (E2 = null === (x2 = bn.current) || void 0 === x2 ? void 0 : x2.toString().split("")) && void 0 !== E2 ? E2 : [], Pn = Array.isArray(gn.current) ? gn.current : null !== (M = null === (w = gn.current) || void 0 === w ? void 0 : w.toString().split("")) && void 0 !== M ? M : [], Vn = Array.isArray(fn.current) ? fn.current : null !== (D = null === (j = fn.current) || void 0 === j ? void 0 : j.toString().split("")) && void 0 !== D ? D : [], Wn = (0, import_react.useMemo)(function() {
    return Array.isArray(rn) ? rn : null == rn ? void 0 : rn.toString().split("");
  }, [rn]), Bn = (0, import_react.useMemo)(function() {
    return Array.isArray(q) ? q : null == q ? void 0 : q.toString().split("");
  }, [q]), Rn = In.length !== Pn.length, Xn = [];
  Pn.forEach(function(n2, e3) {
    var t2 = Pn.length - e3 - 1, r2 = kn ? Vn : In;
    (Pn[t2] !== r2[t2] || Rn || H) && Xn.push(t2);
  }), Xn.reverse();
  var Yn = (0, import_react.useMemo)(function() {
    return Math.min(0.1, Ln / Wn.length);
  }, [Ln, Wn.length]), Fn = (0, import_react.useCallback)(function() {
    Sn.current && clearTimeout(Sn.current), ln(false), _n.current = Nn.current, _n.current += 1, Sn.current = setTimeout(function() {
      Nn.current += 1, ln(true);
    }, 20);
  }, []), Gn = (0, import_react.useCallback)(function(n2) {
    var e3 = kn ? q : bn.current;
    if (null == e3 || !p(e3) || !p(rn))
      return [];
    var t2 = e3.toString().length, r2 = rn.toString().length, i2 = t2 < r2, u2 = Math.abs(t2 - r2), a2 = Number(h(e3.toString())), o3 = Number(h(rn.toString())), l2 = Number(a2.toString()[i2 ? -u2 + n2 : u2 + n2] || 0), c3 = Number(o3.toString()[n2] || 0);
    return c3 === l2 ? [] : a2 < o3 ? f((l2 + 1) % 10, c3) : f((c3 + 1) % 10, l2);
  }, [kn, rn, q]), Hn = (0, import_react.useCallback)(function() {
    Mn(function(n2) {
      return n2 + 1;
    });
  }, []);
  (0, import_react.useEffect)(function() {
    (qn.current || null != bn.current) && (qn.current || null == fn.current) && (qn.current || yn) && Fn();
  }, [un, Fn, yn]), (0, import_react.useEffect)(function() {
    yn && Fn();
  }, [yn, Fn]), (0, import_react.useEffect)(function() {
    requestAnimationFrame(function() {
      qn.current = true;
    });
  }, []), (0, import_react.useImperativeHandle)(o2, function() {
    return { startAnimation: $n, refreshStyles: Hn };
  });
  var Zn = null == q || yn || 0 !== _n.current ? Wn : Bn || [], Jn = ((null == Bn ? void 0 : Bn.length) || 0) - Zn.length, Un = function(n2) {
    var e3, t2 = (0, import_react.useRef)(n2), u2 = (0, import_react.useRef)(t2.current), o3 = n2.join(","), l2 = null === (e3 = t2.current) || void 0 === e3 ? void 0 : e3.join(",");
    return (0, import_react.useEffect)(function() {
      l2 !== o3 && (u2.current = (null == l2 ? void 0 : l2.split(",")) || [], t2.current = o3.split(","));
    }, [o3, l2]), { getPrevDependencies: (0, import_react.useCallback)(function() {
      return u2.current;
    }, []), setPrevDependenciesToSameAsCurrent: (0, import_react.useCallback)(function() {
      u2.current = t2.current;
    }, []) };
  }(Zn), zn = Un.getPrevDependencies, Kn = Un.setPrevDependenciesToSameAsCurrent, Qn = Zn.length - zn().length, $n = (0, import_react.useCallback)(function(n2) {
    null == q || O || (bn.current = void 0), cn.current = n2, Fn(), Kn();
  }, [q, O, Fn, Kn]);
  (0, import_react.useEffect)(function() {
    if (mn && sn.current) {
      var n2 = new IntersectionObserver(function(t2) {
        t2[0].isIntersecting && pn.current && ($n(), pn.current = false, hn && (n2.disconnect(), e3.disconnect()));
      }, { rootMargin: vn, threshold: 1 }), e3 = new IntersectionObserver(function(n3) {
        n3[0].isIntersecting || (pn.current = true);
      }, { threshold: 0 });
      return n2.observe(sn.current), e3.observe(sn.current), function() {
        n2.disconnect(), e3.disconnect();
      };
    }
  }, [mn, vn, hn, $n]);
  var ne = -1;
  return import_react.default.createElement("span", { key: wn, ref: sn, className: s(X, g) }, Zn.map(function(e3, t2) {
    var r2, i2, u2 = Xn.includes(t2), a2 = (u2 ? Xn.indexOf(t2) : 0) * Yn, o3 = bn.current, l2 = null != q && !!O && _n.current > 1, c3 = null != rn && null != o3 && p(rn) && p(o3) && h(rn) < h(o3);
    if ((null === (r2 = cn.current) || void 0 === r2 ? void 0 : r2.direction) && (c3 = "top-down" === (null === (i2 = cn.current) || void 0 === i2 ? void 0 : i2.direction)), nn && (c3 = "top-down" === nn), !y(e3) && S.includes(e3))
      return import_react.default.createElement("span", { key: Pn.length - t2 - 1, className: s(_, F) }, e3);
    var d2 = K && (!yn || Nn.current > 1);
    return ne += 1, import_react.default.createElement(C, { key: Zn.length - t2 - 1, index: t2, isNew: Qn > 0 && t2 < Qn, maxNumberWidth: Dn, numbersRef: dn, active: on, isChanged: u2, charClassName: Y, effectiveDuration: Ln, delay: a2, value: e3, startValue: l2 || null == Bn ? void 0 : Bn[t2 + Jn], disableStartValue: l2, dummyList: d2 ? Gn(ne) : An, hasSequentialDummyList: d2, hasInfiniteList: J, valueClassName: U, reverse: c3, sequentialAnimationMode: K, useMonospaceWidth: $ });
  }));
}));
export {
  E as default
};
//# sourceMappingURL=react-slot-counter.js.map
