'use client';
"use strict";var e=require("react"),n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e},n.apply(this,arguments)};var t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},r=function(e,n){for(var t=[],r=e;r<n;r+=1)t.push(r);return t},u=function(e,n){for(var t=[],r=e;r!==n;)t.push(r),10===(r+=1)&&(r=0);return t},i=function(e,n){var t=Math.random()*(n-e);return Math.floor(t+e)},a=function(e){for(var n,t=function(e,n,t){if(t||2===arguments.length)for(var r,u=0,i=n.length;u<i;u++)!r&&u in n||(r||(r=Array.prototype.slice.call(n,0,u)),r[u]=n[u]);return e.concat(r||Array.prototype.slice.call(n))}([],e,!0),r=t.length-1;r>0;r-=1){var u=Math.floor(Math.random()*(r+1));n=[t[u],t[r]],t[r]=n[0],t[u]=n[1]}return t},o=function(e){return"number"==typeof e?e:(Array.isArray(e)?e.join(""):e).replace(/[,.]/g,"")},l=function(e){return"object"!=typeof e&&!Number.isNaN(o(e))},c=function(e){return"object"==typeof e};var s="index-module_slot_wrap__ZT-DX",d="index-module_slot__DpPgW",f="index-module_separator__7GhtE",m="index-module_numbers__sqlqm",v="index-module_num__j6XH3";!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css","top"===t&&r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var h="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var p=e.memo((function(r){var u,i,o=r.isNew,l=r.charClassName,c=r.numbersRef,s=r.active,f=r.isChanged,p=r.effectiveDuration,y=r.delay,g=r.value,b=r.startValue,S=r.disableStartValue,C=r.dummyList,_=r.hasSequentialDummyList,N=r.hasInfiniteList,E=r.valueClassName,x=r.reverse,A=r.sequentialAnimationMode,M=r.useMonospaceWidth,R=r.maxNumberWidth,w=e.useState(!1),k=w[0],j=w[1],D=e.useState(g),q=D[0],T=D[1],O=e.useRef(),I=e.useRef(g),L=e.useRef(null),P=e.useState(0),V=P[0],W=P[1],B=e.useState(_?C:a(C)),X=B[0],Y=B[1],F=e.useState(!1),H=F[0],G=F[1],Z=V*(C.length+1);h((function(){G(!0)}),[]),h((function(){var e,n;W(null!==(n=null===(e=L.current)||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==n?n:0)}),[H]),e.useEffect((function(){s?requestAnimationFrame((function(){j(s)})):j(s)}),[s]),e.useMemo((function(){S&&(O.current=I.current)}),[S]),e.useEffect((function(){k&&(O.current=I.current,I.current=g,setTimeout((function(){return T(g)}),A?0:1e3*p*1.3/C.length+1e3*y))}),[k,g,p,y,C.length,A]),e.useEffect((function(){Y(_?C:a(C))}),[g,C,_]);var J=function(){return X.map((function(n,t){return e.createElement("span",{key:t,className:v,"aria-hidden":"true"},n)}))},U=x?q:null!=b?b:q;A&&(U=x?q:null!==(u=null!=b?b:O.current)&&void 0!==u?u:q,A&&o&&(U=""));var z=x&&null!=b?b:q;return A&&(z=x&&null!==(i=null!=b?b:O.current)&&void 0!==i?i:q),e.createElement("span",{className:t(d,l),style:{display:"inline-block",width:H&&M?R:void 0,height:H?V:void 0}},e.createElement("span",{ref:c,className:m,style:n({transition:"none",transform:x?"translateY(-".concat(Z,"px)"):"translateY(0px)"},k&&f&&{transform:x?"translateY(0px)":"translateY(-".concat(Z,"px)"),transition:"transform ".concat(p,"s ").concat(y,"s ease-in-out")})},H?e.createElement(e.Fragment,null,e.createElement("span",{className:v,"aria-hidden":"true",style:{height:V}},U),J(),e.createElement("span",{className:t(v,E),ref:L},z),N?J():null):e.createElement("span",{className:v,"aria-hidden":"true"},null!=b?b:q)))}));var y=[",","."," "];var g=e.memo(e.forwardRef((function(n,a){var d,m,v,g,b,S,C,_,N,E,x=n.value,A=n.startValue,M=n.startValueOnce,R=void 0!==M&&M,w=n.duration,k=void 0===w?.7:w,j=n.dummyCharacters,D=n.dummyCharacterCount,q=void 0===D?6:D,T=n.autoAnimationStart,O=void 0===T||T,I=n.containerClassName,L=n.charClassName,P=n.separatorClassName,V=n.animateUnchanged,W=void 0!==V&&V,B=n.hasInfiniteList,X=void 0!==B&&B,Y=n.valueClassName,F=n.sequentialAnimationMode,H=void 0!==F&&F,G=n.useMonospaceWidth,Z=void 0!==G&&G,J=n.direction,U=n.debounceDelay,z=n.animateOnVisible,K=function(n,t){var r=e.useState(n),u=r[0],i=r[1];return e.useEffect((function(){if(0===t)return i(n);var e=setTimeout((function(){i(n)}),t);return function(){clearTimeout(e)}}),[n,t]),u}(x,null!=U?U:0),Q=e.useMemo((function(){return function(e){return Array.isArray(e)&&c(e[0])}(K)?"":"object"==typeof K?JSON.stringify(K):K.toString()}),[K]),$=e.useState(!1),ee=$[0],ne=$[1],te=e.useRef(),re=e.useRef(null),ue=e.useRef(null),ie=e.useRef(A),ae=e.useMemo((function(){return"boolean"==typeof z?z:"object"==typeof z||void 0}),[z]),oe=e.useMemo((function(){return"object"==typeof z?z.rootMargin:void 0}),[z]),le=e.useMemo((function(){return"object"==typeof z?z.triggerOnce:void 0}),[z]),ce=e.useRef(!0),se=!ae&&O,de=e.useRef(null==A||se?K:A),fe=e.useRef(A),me=e.useRef(0),ve=e.useRef(0),he=e.useState([]),pe=he[0],ye=he[1],ge=e.useRef(),be=e.useState(0),Se=be[0],Ce=be[1],_e=e.useState(),Ne=_e[0],Ee=_e[1],xe=e.useRef(!1),Ae=null!=A&&(!R||me.current<1),Me=null!==(m=null===(d=te.current)||void 0===d?void 0:d.dummyCharacterCount)&&void 0!==m?m:q,Re=null!==(g=null===(v=te.current)||void 0===v?void 0:v.duration)&&void 0!==g?g:k;h((function(){var e,n=ue.current;if(n&&Z){var t=function(){var e=r(0,10).map((function(e){var t=document.createElement("span");t.className=null!=Y?Y:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=e.toString(),n.appendChild(t);var r=t.getBoundingClientRect().width;return n.removeChild(t),r})),t=Math.max.apply(Math,e);Ee(t)};t(),null===(e=document.fonts)||void 0===e||e.ready.then((function(){t()}))}}),[]),e.useEffect((function(){ye(r(0,Me-1).map((function(e){if(!j)return i(0,10);var n=e>=j.length?i(0,j.length):e;return j[n]})))}),[j,Me]),de.current!==K&&xe.current&&ve.current>0&&(fe.current=de.current,de.current=K);var we=Array.isArray(fe.current)?fe.current:null!==(S=null===(b=fe.current)||void 0===b?void 0:b.toString().split(""))&&void 0!==S?S:[],ke=Array.isArray(de.current)?de.current:null!==(_=null===(C=de.current)||void 0===C?void 0:C.toString().split(""))&&void 0!==_?_:[],je=Array.isArray(ie.current)?ie.current:null!==(E=null===(N=ie.current)||void 0===N?void 0:N.toString().split(""))&&void 0!==E?E:[],De=e.useMemo((function(){return Array.isArray(K)?K:null==K?void 0:K.toString().split("")}),[K]),qe=e.useMemo((function(){return Array.isArray(A)?A:null==A?void 0:A.toString().split("")}),[A]),Te=we.length!==ke.length,Oe=[];ke.forEach((function(e,n){var t=ke.length-n-1,r=Ae?je:we;(ke[t]!==r[t]||Te||W)&&Oe.push(t)})),Oe.reverse();var Ie=e.useMemo((function(){return Math.min(.1,Re/De.length)}),[Re,De.length]),Le=e.useCallback((function(){ge.current&&clearTimeout(ge.current),ne(!1),me.current=ve.current,me.current+=1,ge.current=setTimeout((function(){ve.current+=1,ne(!0)}),20)}),[]),Pe=e.useCallback((function(e){var n=Ae?A:fe.current;if(null==n||!l(n)||!l(K))return[];var t=n.toString().length,r=K.toString().length,i=t<r,a=Math.abs(t-r),c=Number(o(n.toString())),s=Number(o(K.toString())),d=Number(c.toString()[i?-a+e:a+e]||0),f=Number(s.toString()[e]||0);return f===d?[]:c<s?u((d+1)%10,f):u((f+1)%10,d)}),[Ae,K,A]),Ve=e.useCallback((function(){Ce((function(e){return e+1}))}),[]);e.useEffect((function(){(xe.current||null!=fe.current)&&(xe.current||null==ie.current)&&(xe.current||se)&&Le()}),[Q,Le,se]),e.useEffect((function(){se&&Le()}),[se,Le]),e.useEffect((function(){requestAnimationFrame((function(){xe.current=!0}))}),[]),e.useImperativeHandle(a,(function(){return{startAnimation:Ge,refreshStyles:Ve}}));var We=null==A||se||0!==me.current?De:qe||[],Be=((null==qe?void 0:qe.length)||0)-We.length,Xe=function(n){var t,r=e.useRef(n),u=e.useRef(r.current),i=n.join(","),a=null===(t=r.current)||void 0===t?void 0:t.join(",");return e.useEffect((function(){a!==i&&(u.current=(null==a?void 0:a.split(","))||[],r.current=i.split(","))}),[i,a]),{getPrevDependencies:e.useCallback((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:e.useCallback((function(){u.current=r.current}),[])}}(We),Ye=Xe.getPrevDependencies,Fe=Xe.setPrevDependenciesToSameAsCurrent,He=We.length-Ye().length,Ge=e.useCallback((function(e){null==A||R||(fe.current=void 0),te.current=e,Le(),Fe()}),[A,R,Le,Fe]);e.useEffect((function(){if(ae&&re.current){var e=new IntersectionObserver((function(t){t[0].isIntersecting&&ce.current&&(Ge(),ce.current=!1,le&&(e.disconnect(),n.disconnect()))}),{rootMargin:oe,threshold:1}),n=new IntersectionObserver((function(e){e[0].isIntersecting||(ce.current=!0)}),{threshold:0});return e.observe(re.current),n.observe(re.current),function(){e.disconnect(),n.disconnect()}}}),[ae,oe,le,Ge]);var Ze=-1;return e.createElement("span",{key:Se,ref:re,className:t(I,s)},We.map((function(n,r){var u,i,a=Oe.includes(r),s=(a?Oe.indexOf(r):0)*Ie,d=fe.current,m=null!=A&&!!R&&me.current>1,v=null!=K&&null!=d&&l(K)&&l(d)&&o(K)<o(d);if((null===(u=te.current)||void 0===u?void 0:u.direction)&&(v="top-down"===(null===(i=te.current)||void 0===i?void 0:i.direction)),J&&(v="top-down"===J),!c(n)&&y.includes(n))return e.createElement("span",{key:ke.length-r-1,className:t(f,P)},n);var h=H&&(!se||ve.current>1);return Ze+=1,e.createElement(p,{key:We.length-r-1,index:r,isNew:He>0&&r<He,maxNumberWidth:Ne,numbersRef:ue,active:ee,isChanged:a,charClassName:L,effectiveDuration:Re,delay:s,value:n,startValue:m||null==qe?void 0:qe[r+Be],disableStartValue:m,dummyList:h?Pe(Ze):pe,hasSequentialDummyList:h,hasInfiniteList:X,valueClassName:Y,reverse:v,sequentialAnimationMode:H,useMonospaceWidth:Z})})))})));module.exports=g;
//# sourceMappingURL=index.js.map
