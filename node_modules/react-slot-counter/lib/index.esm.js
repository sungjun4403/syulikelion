'use client';
import n,{memo as e,useState as t,useRef as r,useEffect as i,useMemo as u,useCallback as a,forwardRef as o,useImperativeHandle as l}from"react";var c=function(){return c=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},c.apply(this,arguments)};var s=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(Boolean).join(" ")},d=function(n,e){for(var t=[],r=n;r<e;r+=1)t.push(r);return t},f=function(n,e){for(var t=[],r=n;r!==e;)t.push(r),10===(r+=1)&&(r=0);return t},m=function(n,e){var t=Math.random()*(e-n);return Math.floor(t+n)},v=function(n){for(var e,t=function(n,e,t){if(t||2===arguments.length)for(var r,i=0,u=e.length;i<u;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}([],n,!0),r=t.length-1;r>0;r-=1){var i=Math.floor(Math.random()*(r+1));e=[t[i],t[r]],t[r]=e[0],t[i]=e[1]}return t},h=function(n){return"number"==typeof n?n:(Array.isArray(n)?n.join(""):n).replace(/[,.]/g,"")},p=function(n){return"object"!=typeof n&&!Number.isNaN(h(n))},y=function(n){return"object"==typeof n};var g="index-module_slot_wrap__ZT-DX",b="index-module_slot__DpPgW",_="index-module_separator__7GhtE",N="index-module_numbers__sqlqm",x="index-module_num__j6XH3";!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var A="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;var C=e((function(e){var a,o,l=e.isNew,d=e.charClassName,f=e.numbersRef,m=e.active,h=e.isChanged,p=e.effectiveDuration,y=e.delay,g=e.value,_=e.startValue,C=e.disableStartValue,S=e.dummyList,E=e.hasSequentialDummyList,w=e.hasInfiniteList,M=e.valueClassName,j=e.reverse,D=e.sequentialAnimationMode,T=e.useMonospaceWidth,q=e.maxNumberWidth,k=t(!1),O=k[0],L=k[1],I=t(g),P=I[0],V=I[1],W=r(),B=r(g),R=r(null),X=t(0),Y=X[0],F=X[1],G=t(E?S:v(S)),H=G[0],Z=G[1],J=t(!1),U=J[0],z=J[1],K=Y*(S.length+1);A((function(){z(!0)}),[]),A((function(){var n,e;F(null!==(e=null===(n=R.current)||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==e?e:0)}),[U]),i((function(){m?requestAnimationFrame((function(){L(m)})):L(m)}),[m]),u((function(){C&&(W.current=B.current)}),[C]),i((function(){O&&(W.current=B.current,B.current=g,setTimeout((function(){return V(g)}),D?0:1e3*p*1.3/S.length+1e3*y))}),[O,g,p,y,S.length,D]),i((function(){Z(E?S:v(S))}),[g,S,E]);var Q=function(){return H.map((function(e,t){return n.createElement("span",{key:t,className:x,"aria-hidden":"true"},e)}))},$=j?P:null!=_?_:P;D&&($=j?P:null!==(a=null!=_?_:W.current)&&void 0!==a?a:P,D&&l&&($=""));var nn=j&&null!=_?_:P;return D&&(nn=j&&null!==(o=null!=_?_:W.current)&&void 0!==o?o:P),n.createElement("span",{className:s(b,d),style:{display:"inline-block",width:U&&T?q:void 0,height:U?Y:void 0}},n.createElement("span",{ref:f,className:N,style:c({transition:"none",transform:j?"translateY(-".concat(K,"px)"):"translateY(0px)"},O&&h&&{transform:j?"translateY(0px)":"translateY(-".concat(K,"px)"),transition:"transform ".concat(p,"s ").concat(y,"s ease-in-out")})},U?n.createElement(n.Fragment,null,n.createElement("span",{className:x,"aria-hidden":"true",style:{height:Y}},$),Q(),n.createElement("span",{className:s(x,M),ref:R},nn),w?Q():null):n.createElement("span",{className:x,"aria-hidden":"true"},null!=_?_:P)))}));var S=[",","."," "];var E=e(o((function(e,o){var c,v,b,N,x,E,w,M,j,D,T=e.value,q=e.startValue,k=e.startValueOnce,O=void 0!==k&&k,L=e.duration,I=void 0===L?.7:L,P=e.dummyCharacters,V=e.dummyCharacterCount,W=void 0===V?6:V,B=e.autoAnimationStart,R=void 0===B||B,X=e.containerClassName,Y=e.charClassName,F=e.separatorClassName,G=e.animateUnchanged,H=void 0!==G&&G,Z=e.hasInfiniteList,J=void 0!==Z&&Z,U=e.valueClassName,z=e.sequentialAnimationMode,K=void 0!==z&&z,Q=e.useMonospaceWidth,$=void 0!==Q&&Q,nn=e.direction,en=e.debounceDelay,tn=e.animateOnVisible,rn=function(n,e){var r=t(n),u=r[0],a=r[1];return i((function(){if(0===e)return a(n);var t=setTimeout((function(){a(n)}),e);return function(){clearTimeout(t)}}),[n,e]),u}(T,null!=en?en:0),un=u((function(){return function(n){return Array.isArray(n)&&y(n[0])}(rn)?"":"object"==typeof rn?JSON.stringify(rn):rn.toString()}),[rn]),an=t(!1),on=an[0],ln=an[1],cn=r(),sn=r(null),dn=r(null),fn=r(q),mn=u((function(){return"boolean"==typeof tn?tn:"object"==typeof tn||void 0}),[tn]),vn=u((function(){return"object"==typeof tn?tn.rootMargin:void 0}),[tn]),hn=u((function(){return"object"==typeof tn?tn.triggerOnce:void 0}),[tn]),pn=r(!0),yn=!mn&&R,gn=r(null==q||yn?rn:q),bn=r(q),_n=r(0),Nn=r(0),xn=t([]),An=xn[0],Cn=xn[1],Sn=r(),En=t(0),wn=En[0],Mn=En[1],jn=t(),Dn=jn[0],Tn=jn[1],qn=r(!1),kn=null!=q&&(!O||_n.current<1),On=null!==(v=null===(c=cn.current)||void 0===c?void 0:c.dummyCharacterCount)&&void 0!==v?v:W,Ln=null!==(N=null===(b=cn.current)||void 0===b?void 0:b.duration)&&void 0!==N?N:I;A((function(){var n,e=dn.current;if(e&&$){var t=function(){var n=d(0,10).map((function(n){var t=document.createElement("span");t.className=null!=U?U:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=n.toString(),e.appendChild(t);var r=t.getBoundingClientRect().width;return e.removeChild(t),r})),t=Math.max.apply(Math,n);Tn(t)};t(),null===(n=document.fonts)||void 0===n||n.ready.then((function(){t()}))}}),[]),i((function(){Cn(d(0,On-1).map((function(n){if(!P)return m(0,10);var e=n>=P.length?m(0,P.length):n;return P[e]})))}),[P,On]),gn.current!==rn&&qn.current&&Nn.current>0&&(bn.current=gn.current,gn.current=rn);var In=Array.isArray(bn.current)?bn.current:null!==(E=null===(x=bn.current)||void 0===x?void 0:x.toString().split(""))&&void 0!==E?E:[],Pn=Array.isArray(gn.current)?gn.current:null!==(M=null===(w=gn.current)||void 0===w?void 0:w.toString().split(""))&&void 0!==M?M:[],Vn=Array.isArray(fn.current)?fn.current:null!==(D=null===(j=fn.current)||void 0===j?void 0:j.toString().split(""))&&void 0!==D?D:[],Wn=u((function(){return Array.isArray(rn)?rn:null==rn?void 0:rn.toString().split("")}),[rn]),Bn=u((function(){return Array.isArray(q)?q:null==q?void 0:q.toString().split("")}),[q]),Rn=In.length!==Pn.length,Xn=[];Pn.forEach((function(n,e){var t=Pn.length-e-1,r=kn?Vn:In;(Pn[t]!==r[t]||Rn||H)&&Xn.push(t)})),Xn.reverse();var Yn=u((function(){return Math.min(.1,Ln/Wn.length)}),[Ln,Wn.length]),Fn=a((function(){Sn.current&&clearTimeout(Sn.current),ln(!1),_n.current=Nn.current,_n.current+=1,Sn.current=setTimeout((function(){Nn.current+=1,ln(!0)}),20)}),[]),Gn=a((function(n){var e=kn?q:bn.current;if(null==e||!p(e)||!p(rn))return[];var t=e.toString().length,r=rn.toString().length,i=t<r,u=Math.abs(t-r),a=Number(h(e.toString())),o=Number(h(rn.toString())),l=Number(a.toString()[i?-u+n:u+n]||0),c=Number(o.toString()[n]||0);return c===l?[]:a<o?f((l+1)%10,c):f((c+1)%10,l)}),[kn,rn,q]),Hn=a((function(){Mn((function(n){return n+1}))}),[]);i((function(){(qn.current||null!=bn.current)&&(qn.current||null==fn.current)&&(qn.current||yn)&&Fn()}),[un,Fn,yn]),i((function(){yn&&Fn()}),[yn,Fn]),i((function(){requestAnimationFrame((function(){qn.current=!0}))}),[]),l(o,(function(){return{startAnimation:$n,refreshStyles:Hn}}));var Zn=null==q||yn||0!==_n.current?Wn:Bn||[],Jn=((null==Bn?void 0:Bn.length)||0)-Zn.length,Un=function(n){var e,t=r(n),u=r(t.current),o=n.join(","),l=null===(e=t.current)||void 0===e?void 0:e.join(",");return i((function(){l!==o&&(u.current=(null==l?void 0:l.split(","))||[],t.current=o.split(","))}),[o,l]),{getPrevDependencies:a((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:a((function(){u.current=t.current}),[])}}(Zn),zn=Un.getPrevDependencies,Kn=Un.setPrevDependenciesToSameAsCurrent,Qn=Zn.length-zn().length,$n=a((function(n){null==q||O||(bn.current=void 0),cn.current=n,Fn(),Kn()}),[q,O,Fn,Kn]);i((function(){if(mn&&sn.current){var n=new IntersectionObserver((function(t){t[0].isIntersecting&&pn.current&&($n(),pn.current=!1,hn&&(n.disconnect(),e.disconnect()))}),{rootMargin:vn,threshold:1}),e=new IntersectionObserver((function(n){n[0].isIntersecting||(pn.current=!0)}),{threshold:0});return n.observe(sn.current),e.observe(sn.current),function(){n.disconnect(),e.disconnect()}}}),[mn,vn,hn,$n]);var ne=-1;return n.createElement("span",{key:wn,ref:sn,className:s(X,g)},Zn.map((function(e,t){var r,i,u=Xn.includes(t),a=(u?Xn.indexOf(t):0)*Yn,o=bn.current,l=null!=q&&!!O&&_n.current>1,c=null!=rn&&null!=o&&p(rn)&&p(o)&&h(rn)<h(o);if((null===(r=cn.current)||void 0===r?void 0:r.direction)&&(c="top-down"===(null===(i=cn.current)||void 0===i?void 0:i.direction)),nn&&(c="top-down"===nn),!y(e)&&S.includes(e))return n.createElement("span",{key:Pn.length-t-1,className:s(_,F)},e);var d=K&&(!yn||Nn.current>1);return ne+=1,n.createElement(C,{key:Zn.length-t-1,index:t,isNew:Qn>0&&t<Qn,maxNumberWidth:Dn,numbersRef:dn,active:on,isChanged:u,charClassName:Y,effectiveDuration:Ln,delay:a,value:e,startValue:l||null==Bn?void 0:Bn[t+Jn],disableStartValue:l,dummyList:d?Gn(ne):An,hasSequentialDummyList:d,hasInfiniteList:J,valueClassName:U,reverse:c,sequentialAnimationMode:K,useMonospaceWidth:$})})))})));export{E as default};
//# sourceMappingURL=index.esm.js.map
